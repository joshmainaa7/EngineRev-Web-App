<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA Compatible" content="IE=edge">
    <title>EngineRevSignUp</title>
    <link rel="stylesheet" href="signup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
    
</head>

<body>
    
    <nav>
        <div class="logo">
            EngineRev | BECOME A MEMBER
        </div>
        <ul>
            <li><a href="index.html">HOME</a></li>
            <li><a href="#">EXPLORE</a></li>
            <li><a href="contactus.html">CONTACT US</a></li>
            <li><a href="aboutus.html">ABOUT US</a></li>
            
        </ul>
    </nav>
    <div class="additional-text">
        <h1>Want to become a member ?</h1>
        <p>Join EngineRev and get 30% off your first car Purchase</p>
      </div>
    <div class="overlay"></div>
    <div class="form-container">
        <form>
          <label for="firstname">Name:</label>
          <input type="text" id="firstname" name="firstname" required>
    
          <label for="secondname">Second Name</label>
          <input type="text" id="secondname" name="secondname" required>
    
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" required>
    
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required>

          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" name="confirmPassword" required>

            
            <input type="submit" id="signUp" class="submit-btn">
            

        </form>
        </div>
        <footer>
            <i class="fab fa-facebook"></i>
            <i class="fab fa-twitter"></i>
            <i class="fab fa-instagram"></i>
            <i class="fab fa-linkedin"></i>
          </footer>
        
          <!-- Copyrights Footer -->
          <div class="copyright-footer">
            &copy; 2024 EngineRev. All rights reserved.
          </div>
        </body>
        <script type="module">
 
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
            import { getDatabase, set, ref, } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-database.js";
            import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js"; // Correct import for authentication module

            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            const firebaseConfig = {
              apiKey: "AIzaSyClrCpBA4P21z7uvXSVbu4sxW0a4F9Q93E",
              authDomain: "enginerevsignupdata.firebaseapp.com",
              databaseURL: "https://enginerevsignupdata-default-rtdb.firebaseio.com",
              projectId: "enginerevsignupdata",
              storageBucket: "enginerevsignupdata.appspot.com",
              messagingSenderId: "175312388435",
              appId: "1:175312388435:web:8ad993488e7dae6942e1a6"
            };
          
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getDatabase(app);
            const auth = getAuth(app);
            
            document.getElementById('signUp').addEventListener('click', function (e) {
        e.preventDefault();
        

    var firstname = document.getElementById('firstname').value;
    var secondname = document.getElementById('secondname').value;
    var email = document.getElementById('email').value;
    var password = document.getElementById('password').value;
    var confirmPassword = document.getElementById('confirmPassword').value;

    if (password !== confirmPassword) {
                alert("Passwords do not match!");
                return;
            }
                      
createUserWithEmailAndPassword(auth, email, password)
  .then((userCredential) => {
    // Signed up 
    const user = userCredential.user;

    const userKey = user.uid;
    set(ref(db, 'user/'+ userKey),{
        firstname: firstname,
        secondname :secondname,
        email:email,
        password:password
    });

    alert('Sign Up Successful');
    // 
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;

    alert(errorMessage);
    // ..
  });
            });
       
          </script>
        
</html>